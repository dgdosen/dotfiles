# Enable Powerlevel10k instant prompt. Should stay close to the top of ~/.zshrc.
# Initialization code that may require console input (password prompts, [y/n]
# confirmations, etc.) must go above this block; everything else may go below.
if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi

# PATH mods - loading nodenv/rbenv/pyenv AFTER brew
# Leaving python off until you reinstall:
# export PATH=$PATH:/usr/local/share/python
export PATH=$PATH:/usr/local/sbin
export PATH="/usr/local/opt/python/libexec/bin:$PATH"
export PATH="/usr/local/heroku/bin:$PATH"
export PATH="/usr/local/bin:$PATH"
export PATH="$HOME/bin:$PATH"
export PATH="/Library/Haskell/bin:$PATH"

# - note these should be different on linux
source /usr/local/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh

# powerlevel10k
source /usr/local/opt/powerlevel10k/powerlevel10k.zsh-theme

# homebrew nodenv support
export NODE_BUILD_DEFINITIONS=$(brew --prefix node-build-update-defs)/share/node-build
export PATH="$HOME/.nodenv/shims:$PATH"
eval "$(nodenv init -)"

# homebrew pyenv support
export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init -)"

# # homebrew pyenv support
# export PATH="$HOME/.pyenv/bin:$PATH"
# eval "$(pyenv init -)"
# eval "$(pyenv virtualenv-init -)"

# source $HOME/.iterm2_shell_integration.zsh

# google cloud sdk
source '/usr/local/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/path.zsh.inc'
source '/usr/local/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/completion.zsh.inc'

source /usr/local/opt/asdf/asdf.sh


export GOROOT="/usr/local/opt/go/libexec"

# ethereum
export ethereum_home="/Users/ddosen/dev/ethereum"

# export RUBY_CONFIGURE_OPTS="--with-openssl-dir=$(brew --prefix openssl) --with-readline-dir=$(brew --prefix readline) --with-libyaml-dir=$(brew --prefix libyaml)"

# ruby performance
# export RUBY_GC_MALLOC_LIMIT=1000000000
# export RUBY_FREE_MIN=500000
# export RUBY_HEAP_MIN_SLOTS=40000

alias config='/usr/bin/git --git-dir=/Users/ddosen/.cfg/ --work-tree=/Users/ddosen'

# To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.
[[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh


# lunchy config - is this darwin only
LUNCHY_DIR=$(dirname `gem which lunchy`)/../extras
if [ -f $LUNCHY_DIR/lunchy-completion.zsh ]; then
  . $LUNCHY_DIR/lunchy-completion.zsh
fi

#homebrew rbenv support
export RBENV_ROOT=/usr/local/var/rbenv
eval "$(rbenv init -)"

